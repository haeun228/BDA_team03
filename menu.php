<?php
$is_logged_in = $_SESSION['user_id'] ?? false;
?>

<style>
.menu-header-container {
    font-family: 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    display: flex;
    justify-content: space-between;
    align-items: center;
    max-width: 1200px;
    margin: 0 auto;
    padding: 15px 30px;
}

.menu-logo-section {
    display: flex;
    align-items: center;
    gap: 5px;
    text-decoration: none;
    color: #F47320;
    font-size: 28px;
    font-weight: 700;
}
.menu-logo-text {
    color: #F47320;
}

.menu-nav-links {
    display: flex;
    gap: 30px;
}
.menu-nav-link {
    text-decoration: none;
    color: #111;
    font-size: 15px;
    font-weight: 600;
    padding: 5px;
    transition: color 0.2s;
}
.menu-nav-link:hover {
    color: #F47320;
}

.menu-auth-section {
    display: flex;
    align-items: center;
    gap: 15px;
}

.menu-login-btn {
    background-color: #F47320;
    color: white;
    padding: 8px 20px;
    text-decoration: none;
    border-radius: 5px;
    font-size: 15px;
    font-weight: 600;
    transition: background-color 0.2s;
}
.menu-login-btn:hover {
    background-color: #d8661c;
}

.menu-logout-btn {
    background-color: #9aa0a6;
}

.menu-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 30px;
    height: 30px;
    color: #111;
    transition: color 0.2s;
}
.menu-icon:hover {
    color: #F47320;
}
.menu-svg {
    width: 36px;
    height: 36px;
    fill: currentColor;
}
</style>

<header class="menu-header-container">
  <a href="../index.php" class="menu-logo-section">
    <span class="menu-logo-text">My Seoul Food</span>
    <svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M5.6145 4.224C5.64235 3.88549 5.79961 3.57074 6.05358 3.34521C6.30755 3.11968 6.63868 3.00073 6.97811 3.01309C7.31754 3.02546 7.63913 3.16818 7.87602 3.41159C8.11291 3.655 8.24686 3.98036 8.25 4.32V11.061C8.25 11.3096 8.34877 11.5481 8.52459 11.7239C8.7004 11.8997 8.93886 11.9985 9.1875 11.9985C9.43614 11.9985 9.6746 11.8997 9.85041 11.7239C10.0262 11.5481 10.125 11.3096 10.125 11.061V4.125C10.125 3.82663 10.2435 3.54048 10.4545 3.3295C10.6655 3.11853 10.9516 3 11.25 3C11.5484 3 11.8345 3.11853 12.0455 3.3295C12.2565 3.54048 12.375 3.82663 12.375 4.125V11.061C12.375 11.3096 12.4738 11.5481 12.6496 11.7239C12.8254 11.8997 13.0639 11.9985 13.3125 11.9985C13.5611 11.9985 13.7996 11.8997 13.9754 11.7239C14.1512 11.5481 14.25 11.3096 14.25 11.061V4.32C14.2531 3.98036 14.3871 3.655 14.624 3.41159C14.8609 3.16818 15.1825 3.02546 15.5219 3.01309C15.8613 3.00073 16.1925 3.11968 16.4464 3.34521C16.7004 3.57074 16.8577 3.88549 16.8855 4.224C16.95 5.142 17.25 9.555 17.25 12C17.25 14.025 16.245 15.816 14.712 16.9005C14.388 17.13 14.31 17.373 14.3175 17.496C14.502 20.313 15 28.023 15 29.2455C15 30.2401 14.6049 31.1939 13.9017 31.8972C13.1984 32.6004 12.2446 32.9955 11.25 32.9955C10.2554 32.9955 9.30161 32.6004 8.59835 31.8972C7.89509 31.1939 7.5 30.2401 7.5 29.2455C7.5 28.0215 7.998 20.313 8.1825 17.496C8.19 17.373 8.112 17.13 7.788 16.9005C7.00366 16.3464 6.36378 15.6121 5.92214 14.7594C5.4805 13.9066 5.24999 12.9603 5.25 12C5.25 9.555 5.55 5.142 5.6145 4.224ZM19.5 11.625C19.5 9.33751 20.4087 7.14371 22.0262 5.5262C23.6437 3.9087 25.8375 3 28.125 3C28.4234 3 28.7095 3.11853 28.9205 3.3295C29.1315 3.54048 29.25 3.82663 29.25 4.125V16.875C29.25 17.352 29.409 19.7175 29.5875 22.338L29.595 22.4625C29.79 25.3245 30 28.437 30 29.2455C30 30.2401 29.6049 31.1939 28.9017 31.8972C28.1984 32.6004 27.2446 32.9955 26.25 32.9955C25.2554 32.9955 24.3016 32.6004 23.5983 31.8972C22.8951 31.1939 22.5 30.2401 22.5 29.2455C22.5 28.4745 22.692 25.329 22.878 22.4445C22.971 20.988 23.0655 19.5765 23.136 18.5295L23.1705 18H22.125C21.7803 18 21.4389 17.9321 21.1205 17.8002C20.802 17.6683 20.5126 17.4749 20.2688 17.2312C20.0251 16.9874 19.8317 16.698 19.6998 16.3795C19.5679 16.0611 19.5 15.7197 19.5 15.375V11.625Z" fill="#F47320"/>
    </svg>
  </a>

  <nav class="menu-nav-links">
    <a href="../index.php" class="menu-nav-link">홈</a>
    <a href="stats_region.php" class="menu-nav-link">지역별</a>
    <a href="stats_menu_type.php" class="menu-nav-link">유형별</a>
  </nav>

  <div class="menu-auth-section">
    <a href="recently_viewed.php" class="menu-icon" title="내 기록장">
      <svg class="menu-svg" width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M32.625 18L33.5587 17.532V17.5275L33.552 17.5208L33.5385 17.4938L33.4912 17.4038L33.3112 17.0798C33.0916 16.7009 32.8582 16.3301 32.6115 15.9683C31.7883 14.7599 30.842 13.6402 29.7877 12.627C27.2542 10.197 23.355 7.71753 18 7.71753C12.6495 7.71753 8.74799 10.1948 6.21449 12.627C5.16028 13.6402 4.21397 14.7599 3.39074 15.9683C3.0567 16.4611 2.74732 16.9703 2.46374 17.4938L2.45024 17.5208L2.44574 17.5275V17.5298C2.44574 17.5298 2.44349 17.532 3.37724 18L2.44349 17.5298C2.3713 17.6756 2.33374 17.8362 2.33374 17.9989C2.33374 18.1616 2.3713 18.3222 2.44349 18.468L2.44124 18.4725L2.44799 18.4793L2.46149 18.5063C2.53165 18.6469 2.6067 18.7849 2.68649 18.9203C3.65534 20.557 4.84052 22.0555 6.20999 23.3753C8.74574 25.8053 12.645 28.2803 18 28.2803C23.3527 28.2803 27.2542 25.8053 29.79 23.373C30.8422 22.3587 31.7877 21.2391 32.6115 20.0318C32.927 19.5673 33.2205 19.0882 33.4912 18.5963L33.5385 18.5063L33.552 18.4793L33.5565 18.4725V18.4703C33.5565 18.4703 33.5587 18.468 32.625 18ZM32.625 18L33.5587 18.4703C33.6309 18.3244 33.6685 18.1639 33.6685 18.0012C33.6685 17.8384 33.6309 17.6779 33.5587 17.532L32.625 18ZM17.865 14.544C16.9484 14.544 16.0694 14.9081 15.4212 15.5563C14.7731 16.2044 14.409 17.0834 14.409 18C14.409 18.9166 14.7731 19.7957 15.4212 20.4438C16.0694 21.0919 16.9484 21.456 17.865 21.456C18.7816 21.456 19.6606 21.0919 20.3088 20.4438C20.9569 19.7957 21.321 18.9166 21.321 18C21.321 17.0834 20.9569 16.2044 20.3088 15.5563C19.6606 14.9081 18.7816 14.544 17.865 14.544ZM12.3255 18C12.3255 16.5297 12.9096 15.1195 13.9493 14.0798C14.989 13.0401 16.3991 12.456 17.8695 12.456C19.3399 12.456 20.75 13.0401 21.7897 14.0798C22.8294 15.1195 23.4135 16.5297 23.4135 18C23.4135 19.4704 22.8294 20.8805 21.7897 21.9202C20.75 22.9599 19.3399 23.544 17.8695 23.544C16.3991 23.544 14.989 22.9599 13.9493 21.9202C12.9096 20.8805 12.3255 19.4704 12.3255 18Z" />
      </svg>
    </a>
    <?php if ($is_logged_in): ?>
      <a href="bookmark_list.php" class="menu-icon" title="마이페이지">
        <svg class="menu-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.88 6-3.88s5.97 1.89 6 3.88c-1.29 1.94-3.5 3.22-6 3.22z"/>
        </svg>
      </a>
      <a href="../handlers/logout.php" class="menu-login-btn menu-logout-btn">로그아웃</a>
    <?php else: ?>
      <a href="login.php" class="menu-login-btn">로그인</a>
    <?php endif; ?>
  </div>
</header>